<!DOCTYPE html>
<html class="no-js min-h-screen h-full bg-slate-50" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Request an analysis | OpenSAFELY Interactive</title>

  <script src="./tailwind-3.2.4.js"></script>
</head>

<body class="min-h-screen flex flex-col h-full">
  <header class="bg-oxford shadow-lg text-white py-4" aria-label="Header">
    <div class="container">
      <nav aria-label="Main">
        <ul class="flex flex-col md:flex-row items-center">
          <li class="text-center">
            <a class="transition-all text-xl font-semibold outline outline-2 outline-offset-4 rounded outline-transparent hover:outline-oxford-500 focus:outline-oxford-200" href="https://interactive.opensafely.org/" aria-label="OpenSAFELY Interactive: Home page">
              OpenSAFELY Interactive
            </a>
          </li>
          <li class="mt-2 md:mt-0 md:ml-auto">
            <a class="text-sm font-semibold hover:underline hover:text-oxford-50 focus:text-oxford-50" href="https://interactive.opensafely.org/about">About</a>
          </li>
          <div class="mt-4 md:mt-0 md:ml-6 relative inline-block text-left" x-data="account-menu">
            <div>
              <button type="button" class="inline-flex justify-center w-full rounded-md border border-oxford-200/25 shadow-sm px-4 py-2 text-sm font-semibold transition-colors text-white hover:bg-oxford-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-100 focus:ring-oxford-500" id="menu-button" aria-expanded="false" aria-haspopup="true" x-on:click="accountMenuToggle">
                Account

                <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
              </button>
            </div>
            <ul aria-labelledby="menu-button" aria-orientation="vertical" class="absolute z-50 overflow-hidden left-1/2 -translate-x-1/2 md:origin-top-right md:left-auto md:right-0 md:translate-x-0 flex flex-col mt-2 w-56 rounded-md shadow-lg bg-white text-slate-800 text-sm ring-1 ring-black ring-opacity-5 divide-y divide-slate-100 focus:outline-none" role="menu" @click.outside="accountMenuHide" x-show="isAccountMenuOpen" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter="transition ease-out duration-100" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-end="transform opacity-0 scale-95" style="display: none;">
              <li class="px-4 py-3">
                <p>Signed in as</p>
                <p class="font-medium text-slate-900 truncate">
                george.hickman@thedatalab.org
                </p>
              </li>

              <li class="flex">
                <a href="https://interactive.opensafely.org/admin/" class="w-full px-4 py-2 text-slate-700 hover:bg-oxford-50 hover:text-oxford-700">
                  Admin
                </a>
              </li>
              <li class="flex">
                <a href="https://interactive.opensafely.org/logout/" class="w-full px-4 py-2 text-slate-700 hover:bg-oxford-50 hover:text-oxford-700">
                  Log out
                </a>
              </li>
            </ul>
          </div>
        </ul>
      </nav>
    </div>
  </header>

  <div class="absolute bottom-0 sm:bottom-auto sm:top-[106px] md:top-[70px] z-20 w-full bg-amber-300" x-data="beta-banner" x-show="isBetaBannerVisible" x-transition:leave="transition ease-in duration-500" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-100" style="display: none;">
    <div class="max-w-7xl mx-auto py-3 px-3 sm:px-6 lg:px-8">
      <div class="pr-16 sm:text-center sm:px-16">
        <p class="font-medium text-amber-800">
        OpenSAFELY Interactive is under construction.
        </p>
      </div>
      <div class="absolute inset-y-0 right-0 pt-1 pr-1 flex items-start sm:pt-1 sm:pr-2 sm:items-start">
        <button x-on:click="hideBetaBanner" type="button" class="flex p-2 rounded-md transition-colors hover:bg-amber-100 focus:outline-none focus:ring-2 focus:ring-white">
          <span class="sr-only">Dismiss</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-800" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
  <main id="content" class="flex-1">
    <div class="flex flex-col justify-center py-12 sm:px-6 lg:px-8">
      <div class="flex flex-col mb-6 sm:mx-auto">
        <h1 class="text-center text-3xl font-extrabold text-slate-900 sm:w-full sm:max-w-lg mx-auto">
          Request an analysis
        </h1>
      </div>
      <div class="bg-white sm:mx-auto sm:w-full sm:max-w-xl py-8 px-4 shadow sm:rounded-lg sm:px-10">
        <section class="prose prose-oxford sm:prose-sm text-slate-800">
          <h2 class="text-2xl font-bold mb-4">What does an analysis show?</h2>
          <p>An analysis automatically counts the number of events recorded per week in every GP practice for a selected Codelist.</p>
          <p>
            During the pilot and dvelopment stage we have agreed with NHS
            England Information Governance team to restrict available codelists
            to pre-approved Codelists published by
            <a class=" text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-500 hover:no-underline focus:text-oxford-700 focus:no-underline"
              href="https://www.opencodelists.org/"
              target="_blank"
              rel="noopener noreferrer">
              OpenSAFELY on OpenCodelists
            </a>
            .
          </p>
          <p>
            The analysis uses TPP software (covering appoximately 40% of
            England's practices), from prior to the pandemic to the latest
            available date.
          </p>
          <p>
            This produces a time trend chart, with practices
            <a class="text-oxford-600 font-semibold underline underline-offset-1 transition-colors hover:text-oxford-500 hover:no-underline focus:text-oxford-700 focus:no-underline"
              href="https://interactive.opensafely.org/about#deciles"
              target="_blank"
              rel="noopener noreferrer">
              represented as deciles
            </a>
            .
          </p>
          <p class="!mb-2">The report will also display:</p>
          <ul>
            <li>overall summary statistics</li>
            <li>total events</li>
            <li>number of distinct patients affected</li>
            <li>five codes in the codelist were most commonly used, with percentages</li>
          </ul>
          <p>We will be developing more features in collaboration with users so please <a href="https://docs.google.com/forms/d/e/1FAIpQLScWikDx0UlqbEcnbzZhn5FiBTBHc2LtrfhqmmKwgOuKt4oFTQ/viewform" target="_blank" rel="noopener noreferrer">tell us about your experience using OpenSAFELY Interactive</a>.</p>
        </section>
        <div class="border-t border-t-slate-200 mt-6 pt-6 -mx-10">
          <h2 class="px-10 text-2xl font-bold">Submit a request</h2>
        </div>
        <form class="space-y-6" method="post">
          <div class="border rounded p-4">
            <label for="downshift-0-input" class="block mb-1 text-lg font-semibold text-slate-800">
              Select a codelist
            </label>
            <ul class="mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm">
              <li class="p-3 pr-9 font-semibold text-oxford-600">
                <input class="w-full border p-1" type="text" placeholder="Search" />
              </li>
              <li class="flex border-y font-semibold text-oxford-600">
                <div class="border-r flex-grow py-3 pl-3">
                  <input id="event" type="radio" value="event" />
                  <label for="event" class="pl-1">Event</label>
                </div>
                <div class="flex-grow py-3 pl-3">
                  <input id="medication" type="radio" value="medication" />
                  <label for="medication" class="pl-1">Medication</label>
                </div>
              </li>
              <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                Active and inactive ethnicity codes<span class="sr-only">, </span>
                <span class="text-xs text-gray-600 font-normal">
                  From: NHSD Primary Care Domain Refsets
                </span>
              </li>
              <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                Alanine aminotransferase (ALT) tests<span class="sr-only">, </span>
                <span class="text-xs text-gray-600 font-normal">
                  From: OpenSAFELY
                </span>
              </li>
              <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                Alanine aminotransferase (ALT) tests (numerical value)<span class="sr-only">, </span>
                <span class="text-xs text-gray-600 font-normal">
                  From: OpenSAFELY
                </span>
              </li>
              <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                All BMI coded terms<span class="sr-only">, </span>
                <span class="text-xs text-gray-600 font-normal">
                  From: PRIMIS Covid Vaccination Uptake Reporting
                </span>
              </li>
              <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                Asplenia or Dysfunction of the Spleen codes<span class="sr-only">, </span>
                <span class="text-xs text-gray-600 font-normal">
                  From: PRIMIS Covid Vaccination Uptake Reporting
                </span>
              </li>
            </ul>
          </div>

          <div class="border rounded p-4">
            <h2 class="block mb-1 text-lg font-semibold text-slate-800">
              Second codelist
            </h2>

            <h3 class="block mb-1 text-md font-semibold text-slate-800">
              Pick the relationship between your codelists
            </h3>

            <div class="border rounded flex">
              <div class="border-r flex-grow px-3 py-1">
                <input id="and" type="radio" value="and" checked />
                <label for="and">AND</label>
              </div>
              <div class="border-r flex-grow px-3 py-1">
                <input id="or" type="radio" value="or" />
                <label for="or">OR</label>
              </div>
            </div>

            <div class="mt-3">
              <label id="downshift-1-label" for="downshift-1-input" class="block mb-1 text-md font-semibold text-slate-800">
                Select a second codelist
              </label>
              <ul class="mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm">
                <li class="p-3 pr-9 font-semibold text-oxford-600">
                  <input class="w-full border p-1" type="text" placeholder="Search" />
                </li>
                <li class="flex border-y font-semibold text-oxford-600">
                  <div class="border-r flex-grow py-3 pl-3">
                    <input id="event" type="radio" value="event" />
                    <label for="event" class="pl-1">Event</label>
                  </div>
                  <div class="flex-grow py-3 pl-3">
                    <input id="medication" type="radio" value="medication" />
                    <label for="medication" class="pl-1">Medication</label>
                  </div>
                </li>
                <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                  Active and inactive ethnicity codes<span class="sr-only">, </span>
                  <span class="text-xs text-gray-600 font-normal">
                    From: NHSD Primary Care Domain Refsets
                  </span>
                </li>
                <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                  Alanine aminotransferase (ALT) tests<span class="sr-only">, </span>
                  <span class="text-xs text-gray-600 font-normal">
                    From: OpenSAFELY
                  </span>
                </li>
                <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                  Alanine aminotransferase (ALT) tests (numerical value)<span class="sr-only">, </span>
                  <span class="text-xs text-gray-600 font-normal">
                    From: OpenSAFELY
                  </span>
                </li>
                <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                  All BMI coded terms<span class="sr-only">, </span>
                  <span class="text-xs text-gray-600 font-normal">
                    From: PRIMIS Covid Vaccination Uptake Reporting
                  </span>
                </li>
                <li class="flex flex-col relative cursor-pointer select-none py-2 pl-3 pr-9 font-semibold text-oxford-600 hover:bg-gray-100">
                  Asplenia or Dysfunction of the Spleen codes<span class="sr-only">, </span>
                  <span class="text-xs text-gray-600 font-normal">
                    From: PRIMIS Covid Vaccination Uptake Reporting
                  </span>
                </li>
              </ul>
            </div>

            <div class="mt-3">
              <h3 class="block mb-1 text-md font-semibold text-slate-800">
                Date range
              </h3>

              <p class="mt-1 text-base text-slate-600">
                How long before the primary event group should we look for the
                second event group?
              </p>

              <select class="p-2 rounded">
                <option>3 months</option>
                <option>6 months</option>
                <option>9 months</option>
                <option>1 year</option>
              </select>
            </div>
          </div>

          <div class="border rounded p-4">
            <h3 class="block mb-1 text-md font-semibold text-slate-800">
              Which demographics would you like the report broken down by?
            </h3>

            <div>
              <input id="sex" type="checkbox" value="sex" />
              <label for="sex">Sex</label>
            </div>
            <div>
              <input id="age" type="checkbox" value="age" />
              <label for="age">Age</label>
            </div>
            <div>
              <input id="ethnicity" type="checkbox" value="ethnicity" />
              <label for="ethnicity">Ethnicity</label>
            </div>
            <div>
              <input id="imd" type="checkbox" value="imd" />
              <label for="imd">IMD</label>
            </div>
          </div>

          <div class="border rounded p-4">
            <h3 class="block mb-1 text-md font-semibold text-slate-800">
              Should the report be broken down by region?
            </h3>
            <div class="border-r flex-grow px-3 py-1">
              <input id="region" type="radio" value="yes" />
              <label for="region">Yes</label>
            </div>
          </div>

          <div class="border rounded p-4">
            <h3 class="block mb-1 text-md font-semibold text-slate-800">
              Filter population
            </h3>

            <div class="border rounded flex">
              <div class="border-r flex-grow px-3 py-1">
                <input id="adults" type="radio" value="adults" />
                <label for="adults">Adults</label>
              </div>
              <div class="border-r flex-grow px-3 py-1">
                <input id="children" type="radio" value="children" />
                <label for="children">Children</label>
              </div>
              <div class="border-r flex-grow px-3 py-1">
                <input id="all" type="radio" value="all" checked />
                <label for="all">All</label>
              </div>
            </div>

          </div>

          <input type="submit" value="Submit" class="
                       inline-flex items-center justify-center border border-transparent font-semibold rounded-md cursor-pointer transition-colors outline outline-offset-2 outline-transparent no-underline
                       bg-oxford-600 hover:bg-oxford-500 focus:outline-oxford-100
                       text-base px-5 py-3
                       w-full
                       " />
        </form>
      </div>
    </div>
  </main>
  <footer class="mt-auto" aria-label="Footer">
    <div class="bg-slate-50 shadow-inner py-8 md:py-12 text-sm">
      <div class="container">
        <ul class="flex flex-col md:flex-row md:flex-wrap gap-4 md:gap-x-6 font-semibold mb-8 text-center justify-center" aria-label="Footer links">
          <li>
            <a class="
                      text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                      hover:text-oxford-500 hover:no-underline
                      focus:text-oxford-700 focus:no-underline
                      " href="https://www.opensafely.org/" target="_blank" rel="noopener noreferrer">OpenSAFELY</a>
          </li>
          <li>
            <a class="
                      text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                      hover:text-oxford-500 hover:no-underline
                      focus:text-oxford-700 focus:no-underline
                      " href="https://www.opencodelists.org/" target="_blank" rel="noopener noreferrer">OpenCodelists</a>
          </li>
          <li>
            <a class="
                      text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                      hover:text-oxford-500 hover:no-underline
                      focus:text-oxford-700 focus:no-underline
                      " href="https://www.bennett.ox.ac.uk/" target="_blank" rel="noopener noreferrer">Bennett Institute for Applied Data Science</a>
          </li>
          <li>
            <a class="
                      text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                      hover:text-oxford-500 hover:no-underline
                      focus:text-oxford-700 focus:no-underline
                      " href="https://www.ox.ac.uk/" target="_blank" rel="noopener noreferrer">University of Oxford</a>
          </li>
        </ul>
        <p class="text-slate-600 max-w-prose mx-auto text-center mb-5" aria-label="Copyright statement">
        © University of Oxford for the Bennett Institute for Applied Data Science 2022.
        This work may be copied freely for non-commercial research and study.
        If you wish to do any of the other acts restricted by the copyright you should apply in writing to
        <a class="
                  text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                  hover:text-oxford-500 hover:no-underline
                  focus:text-oxford-700 focus:no-underline
                  " href="mailto:bennett@phc.ox.ac.uk">bennett@phc.ox.ac.uk</a>.
        </p>
        <p class="text-slate-600 max-w-prose mx-auto text-center">
        <a class="
                  text-oxford-600 font-semibold underline underline-offset-1 transition-colors
                  hover:text-oxford-500 hover:no-underline
                  focus:text-oxford-700 focus:no-underline
                  " href="https://www.opensafely.org/privacy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
        </p>
      </div>
    </div>
  </footer>
</body>
</html>
